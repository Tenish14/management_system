<% @title="Add Item" %>
<h1 class="center">Add Item</h1>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <%= form_with(model: @item, local: true, data: { turbo: false }) do |f| %>
            <%= render 'shared/error_messages' , object: f.object%>

            <%= f.label :Company%>
            <%= f.text_field :company_id, value: current_user.company.id, class: 'form-control', :readonly => true%>
            
            <%= f.label :name %>
            <%= f.text_field :name, class: 'form-control' %>

            <%= f.label :description %>
            <%= f.text_field :description, class: 'form-control' %>

            <%= f.label :quantity_stock %>
            <%= f.number_field :quantity_stock, class: 'form-control' %>

            <%= f.label :price %>
            <%= f.number_field :price, class: 'form-control', step: :any %>

            <%= f.label :Category%>
            <%= f.select :category_id,Category.all.pluck(:name,:id),{prompt:'select'},{class: "form-control"}%>

            <%= f.label :Location%>
            <% current_user.company.locations.each do |location| %>
                <%= check_box_tag "location_ids[]", location.id %>
                <%= location.name %>
            <% end %>

            <%= f.submit "Create Item", class: "btn btn-primary" %>
        <% end %>
    </div>
</div>